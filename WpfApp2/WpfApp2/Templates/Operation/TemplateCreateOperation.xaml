<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
                    xmlns:local="clr-namespace:WpfApp2.Templates">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/LegParts/Templates/RightPanelAnimation.xaml"/>
    </ResourceDictionary.MergedDictionaries>
    <DataTemplate x:Key="TemplateCreateOperation">
        <Grid Margin="0,62,0,0">
            <TextBlock HorizontalAlignment="Right" FontSize="22pt" Height="38" VerticalAlignment="Top" Text="{Binding Path=CurrentPatient.Name}"><TextBlock Text="{Binding Path=initials}"></TextBlock>
            </TextBlock>
            <TextBlock HorizontalAlignment="Left" FontSize="22pt" Height="38" VerticalAlignment="Top" Text="Назначение операции" />
            <Button x:Name="button_Copy1"  Command="{Binding Path=ToCurrentPatientCommand}" Content="Вернуться к пациенту" HorizontalAlignment="Left" Margin="277,558,0,0" VerticalAlignment="Top"  
                    Width="215" Height="34"/>
            <TextBlock x:Name="textBlock" HorizontalAlignment="Left" Margin="24,68,0,0" TextWrapping="Wrap" Text="Тип операции"  
                       VerticalAlignment="Top" FontSize="18"/>
            <ComboBox x:Name="comboBox"  ItemsSource="{Binding Path=OprTypes}" SelectedIndex="{Binding Path=OprTypeSelected}" HorizontalAlignment="Left" Margin="24,110,0,0" VerticalAlignment="Top" Width="468"  
                      Height="40"/>
            <Button x:Name="button_Copy" Content="Добавить новый тип" HorizontalAlignment="Left" Margin="166,62,0,0" Command="{Binding Path=OpenPanelCommand}"            
                    VerticalAlignment="Top" Width="326" Height="36"/>
            <TextBlock x:Name="textBlock_Copy" HorizontalAlignment="Left" Margin="24,211,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top"><Run Text="Выб"/><Run Text="ерите"/><Run Text=" время"/></TextBlock>
            <DatePicker SelectedDate="{Binding Path=Operation.Date}" HorizontalAlignment="Left" Margin="5,274,0,0" VerticalAlignment="Top" Width="119" Height="auto"  
                      FontStretch="Expanded" FontSize="10">

            </DatePicker>

            <xctk:TimePicker Value="{Binding Path=MinuteHour, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Format="ShortTime"  HorizontalAlignment="Left" Margin="5,232,0,0" VerticalAlignment="Top" Width="120" Height="20" />


            <TextBlock x:Name="textBlock_Copy1" HorizontalAlignment="Left" Margin="100,204,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top" Text=":"/>
            <TextBlock x:Name="textBlock_Copy2" HorizontalAlignment="Left" Margin="138,182,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top" Text="Список всех врачей" FontSize="16" Width="155" TextAlignment="Center"/>
            <TextBlock x:Name="textBlock_Copy3" HorizontalAlignment="Left" Margin="546,68,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top" FontSize="18"><Run Text="А"/><Run Text="нестетик"/></TextBlock>
            <ComboBox x:Name="comboBox_Copy2"   HorizontalAlignment="Left" ItemsSource="{Binding Path=AnestethicTypes}" SelectedIndex="{Binding Path=AnesteticSelected}" Margin="546,109,0,0" VerticalAlignment="Top" Width="468" Height="40"/>
            <Button x:Name="button_Copy2" Content="Добавить новый вид" HorizontalAlignment="Left" Margin="688,62,0,0"              
                    VerticalAlignment="Top" Width="326" Height="36" />
            <DataGrid HorizontalAlignment="Left" Height="220" Margin="141,211,0,0" VerticalAlignment="Top" Width="152"  
                          Foreground="Black" Background="White" AutoGenerateColumns="False" HeadersVisibility="None"
                     ItemsSource="{Binding Path=Controller.CurrentViewModel.Doctors}" CanUserResizeColumns="False" CanUserResizeRows="False" CanUserSortColumns="False" >
                <DataGrid.Columns>
                    <DataGridTemplateColumn >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding Path=IsChecked, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock TextAlignment="Left" Width="Auto" Text="{Binding Path=Surname}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock TextAlignment="Left" Width="Auto" Text="{Binding Path=initials}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
            <TextBlock x:Name="textBlock_Copy4" HorizontalAlignment="Left" Margin="343,182,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top" Text="Ваша бригада" FontSize="16"/>
            <DataGrid HorizontalAlignment="Left" Height="220" Margin="316,211,0,0" VerticalAlignment="Top" Width="152"  
                          Foreground="Black" Background="White"  AutoGenerateColumns="False" HeadersVisibility="None"
                     ItemsSource="{Binding Path=Controller.CurrentViewModel.DoctorsSelected}" CanUserResizeColumns="False" CanUserResizeRows="False" CanUserSortColumns="False" >
                <DataGrid.Columns>
                    <DataGridTemplateColumn >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock TextAlignment="Left" Width="Auto" Text="{Binding Path=Surname}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock TextAlignment="Left" Width="Auto" Text="{Binding Path=initials}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>
            <TextBlock x:Name="textBlock_Copy5" HorizontalAlignment="Left" Margin="24,450,0,0" TextWrapping="Wrap"  
                       VerticalAlignment="Top" Text="NB!"/>
            <TextBox Text="{Binding Path=Operation.NB}"  x:Name="richTextBox" HorizontalAlignment="Left" Height="86" Margin="57,450,0,0" VerticalAlignment="Top"  
                         Width="411">


            </TextBox>
            <Button x:Name="button_Copy3" Content="{Binding Path=ButtonSaveText}" Command="{Binding Path=ToOperationOverviewCommand}" HorizontalAlignment="Left" Margin="554,558,0,0"              
                    VerticalAlignment="Top" Width="215" Height="34" RenderTransformOrigin="0.502,0.471"/>
            <ListBox HorizontalAlignment="Left" Height="284" Margin="490,211,0,0" VerticalAlignment="Top" Width="259"  
                       ItemsSource="{Binding Path=LeftDiagnosisList}"   Foreground="Black" Background="White">
                <ListBox.ItemTemplate>
                    <DataTemplate>

                        <TextBlock Padding="5,0,5,0" Text="{Binding  Data.Str}" />

                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            <ListBox ItemsSource="{Binding Path=RightDiagnosisList}" HorizontalAlignment="Left" Height="284" Margin="755,211,0,0" VerticalAlignment="Top" Width="259"  
                          Foreground="Black" Background="White">
                <ListBox.ItemTemplate>
                    <DataTemplate>

                        <TextBlock Padding="5,0,5,0" Text="{Binding  Data.Str}" />

                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            <Button x:Name="button_Copy4" Content="Выбрать диагноз слева"  Command="{Binding Path=ToLeftDiagCommand}" HorizontalAlignment="Left" Margin="490,170,0,0"              
                    VerticalAlignment="Top" Width="259" Height="36" RenderTransformOrigin="0.497,0.15"/>
            <Button x:Name="button_Copy5" Content="Взять из последнего обследования" HorizontalAlignment="Left"  
                    Margin="490,500,0,0"             VerticalAlignment="Top" Width="259" Height="36"/>
            <Button x:Name="button_Copy6" Content="Выбрать диагноз справа" Command="{Binding Path=ToRightDiagCommand}" HorizontalAlignment="Left" Margin="755,170,0,0"              
                    VerticalAlignment="Top" Width="259" Height="36" RenderTransformOrigin="0.484,0.472"/>
            <Button x:Name="button_Copy7" Content="Взять из последнего обследования" HorizontalAlignment="Left"  
            Margin="755,500,0,0"             VerticalAlignment="Top" Width="259" Height="36"/>

            <Border Grid.RowSpan="4" Visibility="{Binding Path = CurrentPanelViewModel.PanelOpened, Converter={StaticResource BoolToVis}}" x:Name="ShadowOverlay">
                <Border.Background>
                    <SolidColorBrush Color="Black" Opacity="0.78"/>
                </Border.Background>
            </Border>

            <Border x:Name="panelControl" Grid.RowSpan="4" Margin="0,0,-450,0" VerticalAlignment="Stretch" HorizontalAlignment="Right" RenderTransformOrigin="0.5,0.5" Width="450" Height="275" DataContext="{Binding Path=CurrentPanelViewModel}" >
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Path=PanelOpened}" Value="True">
                                <DataTrigger.EnterActions>
                                    <RemoveStoryboard BeginStoryboardName="AnimationCloseStoryboard"/>
                                    <BeginStoryboard Storyboard="{StaticResource Open}" x:Name="AnimationBeginStoryboard"/>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <RemoveStoryboard BeginStoryboardName="AnimationBeginStoryboard"/>
                                    <BeginStoryboard Storyboard="{StaticResource Close}" x:Name="AnimationCloseStoryboard"/>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>

                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Border.RenderTransform>

                <Grid>
                    <Canvas Background="#FFC6E8E6" Margin="0,0,0,29">
                        <TextBlock x:Name="textBlock7" HorizontalAlignment="Left" TextWrapping="Wrap" VerticalAlignment="Top" Canvas.Left="135" FontSize="18" Canvas.Top="10" Text="Новый тип операции"/>
                        <TextBox x:Name="textBox1" HorizontalAlignment="Left" Height="43" TextWrapping="Wrap" Text="{Binding Path=ShortText}" VerticalAlignment="Top" Width="422" Canvas.Left="10" Canvas.Top="61" />
                        <Button x:Name="buttonCancel" Content="Отмена" HorizontalAlignment="Left" VerticalAlignment="Top" Width="150" Command="{Binding ParentVM.RevertCommand}" Canvas.Left="60" Canvas.Top="200" Height="36"/>
                        <Button x:Name="ButtonAdd" Content="Добавить" HorizontalAlignment="Left" VerticalAlignment="Top" Width="150" Command="{Binding ParentVM.SaveCommand}" Canvas.Left="256" Canvas.Top="200" Height="36"/>
                        <TextBlock x:Name="textBlock_Copy24" HorizontalAlignment="Left" TextWrapping="Wrap" VerticalAlignment="Top" Canvas.Top="42" Canvas.Left="173" Text="Короткое название:"/>
                        <TextBlock x:Name="textBlock_Copy31" HorizontalAlignment="Left" TextWrapping="Wrap" VerticalAlignment="Top" Canvas.Top="124" Canvas.Left="173" Text="Длинное название:"/>
                        <TextBox x:Name="textBox1_Copy" HorizontalAlignment="Left" Height="43" TextWrapping="Wrap" Text="{Binding LongText}" VerticalAlignment="Top" Width="422" Canvas.Top="143" RenderTransformOrigin="0.502,0.488" Canvas.Left="10" />
                    </Canvas>
                </Grid>
            </Border>
        </Grid>
    </DataTemplate>

</ResourceDictionary>